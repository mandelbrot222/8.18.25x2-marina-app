<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Narrows Marina â€¢ Menu</title>
    <link rel="manifest" href="/8.18.25x2-marina-app/manifest.json" />
    <link rel="stylesheet" href="/8.18.25x2-marina-app/style.css" />
    <link rel="icon" href="/8.18.25x2-marina-app/icons/icon-192x192.png" />
    <meta name="theme-color" content="#0B4F6C" />
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
    <meta http-equiv="Pragma" content="no-cache" />
    <meta http-equiv="Expires" content="0" />
    <style>
      /* Ensure anchors or buttons with .button class look like your buttons */
      .button {
        display: inline-block;
        padding: 12px 16px;
        border-radius: 8px;
        background: var(--btn-bg, #0B4F6C);
        color: white;
        text-decoration: none;
        border: none;
        cursor: pointer;
        text-align: center;
        font: inherit;
      }
      .button.button-secondary { background: #555; }
      .card { background: #fff; border-radius: 12px; box-shadow: 0 2px 10px rgba(0,0,0,.08); }
      .container { max-width: 960px; margin: 0 auto; padding: 16px; }
      .app-header { display:flex; align-items:center; gap:12px; padding:12px 16px; }
      .logo { width: 40px; height: 40px; }
    </style>
  </head>
  <body>
    <header class="app-header">
      <img src="/8.18.25x2-marina-app/icons/icon-192x192.png" alt="Narrows Marina logo" class="logo" />
      <h2>Narrows Marina Portal</h2>
    </header>

    <main class="container">
      <h1>Main Menu</h1>
      <div class="card" style="display:grid; gap:10px; max-width:520px; padding:16px;">
        <button id="btn-boat" class="button" type="button">Boat/Trailer Schedule</button>
        <button id="btn-emp" class="button" type="button">Employee Schedule</button>
        <button id="btn-maint" class="button" type="button">Maintenance Requests</button>
        <button id="btn-moveouts" class="button" type="button">Move Outs</button>
        <button id="logout-btn" class="button button-secondary" type="button">Logout</button>
      </div>
    </main>

    <script>
      (function () {
        var BASE = '/8.18.25x2-marina-app/';
        function go(p) { location.href = BASE + p; }
        function goLogin() {
          location.href = BASE + 'login.html?return=' + encodeURIComponent(BASE + 'menu.html');
        }
        // Optional guard: if not logged in, send to login
        try {
          if (!localStorage.getItem('currentUserId')) { goLogin(); return; }
        } catch (e) { goLogin(); return; }

        // Wire buttons to absolute paths so GitHub Pages never misroutes
        document.addEventListener('DOMContentLoaded', function(){
          document.getElementById('btn-boat').addEventListener('click', function(){ go('schedule.html'); });
          document.getElementById('btn-emp').addEventListener('click', function(){ go('employees.html'); });
          document.getElementById('btn-maint').addEventListener('click', function(){ go('maintenance.html'); });
          document.getElementById('btn-moveouts').addEventListener('click', function(){ go('moveouts.html'); });
          document.getElementById('logout-btn').addEventListener('click', function(){
            try {
              localStorage.removeItem('currentUserId');
              localStorage.removeItem('currentUserName');
              localStorage.removeItem('currentUserIsAdmin');
            } catch (e) { }
            goLogin();
          });
        });
      })();
    </script>
  </body>
</html>
